window.cwv2Admin={},function(window,$,app){app.init=function(){app.cache(),app.meetsRequirements()&&app.bindEvents()},app.cache=function(){app.$c={window:$(window),imgUploadBtn:$(".upload_image_button"),select2Objects:$(".cwv2_select2"),colorSelectors:$(".color_select")}},app.bindEvents=function(){app.$c.imgUploadBtn.on("click",app.handleImageUploader),app.$c.window.on("load",app.windowLoad)},app.windowLoad=function(){app.$c.select2Objects.select2(),app.$c.colorSelectors.spectrum()},app.meetsRequirements=function(){return app.$c.imgUploadBtn.length&&app.$c.select2Objects.length},app.handleImageUploader=function(){var btnObj=$(this);return window.uploadID=btnObj.data("target-id"),window.file_frame?(window.file_frame.open(),!0):(window.file_frame=wp.media.frames.file_frame=wp.media({title:btnObj.data("uploader-title"),button:{text:btnObj.data("uploader-btn-txt")},multiple:!1}),window.file_frame.on("select",function(){var attachment=window.file_frame.state().get("selection").first().toJSON();$("#"+window.uploadID).val(attachment.url),window.console.log(attachment)}),void window.file_frame.open())},$(app.init)}(window,jQuery,window.cwv2Admin);